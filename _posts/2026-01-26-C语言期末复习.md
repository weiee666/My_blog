---
layout:     post
title:      "C语言期末复习"
subtitle:   " 很久很久以前的C语言笔记"
date:       2026-1-26 14:42:00
author:     "Weiee"
header-img: "img/post-bg-2015.jpg"
catalog: true
tags:
    - Meta
---



# C语言期末复习

# 零、准备工作

## 1、如何设置Dev中的调试功能？让其显示变量值。

循环第一课，有些事情就得用循环才能解决—9:55

# 一、循环

## 1、例1：数位数

```c
int x;
int n =0;
scanf(“%d”,&x);
n++;
x/=10;
while(x>0){
	n++;
	x/=10;
}
printf(“%d”,n);
例2:算阶乘
int n;
scanf(“%d”,&n);
int fact=1;
int i = 1;
while ( i <=n ){
fact*=i;
i++;
}
printf(“%d!=%d\n”,n,fact);

```

## 例2:算阶乘

```c
例2:算阶乘
int n;
scanf(“%d”,&n);
int fact=1;
int i = 1;
while ( i <=n ){
	fact*=i;
	i++;
	}
	printf(“%d!=%d\n”,n,fact);
	//或者
	for ( i=1 ; i<=n ; i++ ){
		fact*=i;
	}
```

## 例3:算素数

```c

#include <stdio.h>

int main(){
	int x;
	scanf(“%d”,&x);
	int i;
	int isPrime=1;

for ( i=2 ; i<x ; i++){
	if(x%i == 0){
		isPrime = 0;
		break;
	}
}
if(isPrime==1){
	printf(“是素数\\n”);
}else{
	printf(“不是素数\\n”);
}
return 0;
}
```

## 例4:100以内的素数（嵌套循环）

```c
#include <stdio.h>

int main(){
	int x;
	for( x=2 ; x<100 ; x++){
		int i;
		int isPrime=1;
		for ( i=2 ; i<x ; i++){
			if(x%i == 0){
			isPrime = 0;
			break;
		}
	}
	if(isPrime==1){
		printf(“%d”,x);
	}
	return 0;
	}
}
```

## 例5:凑硬币

如何用1角、2角和5角的硬币凑出10元以下的金额？

```c
int x;
int one,two,five;
scanf(“%d”,&x);
for (one =1;one <x*10;one ++){
	for(two=1;two<x*10/2;two++{
		for(five=1;five<x*10/5;five++){
			if(one+two*2+five*5 == x*10){
				printf(“可以用%d个1角加%d个2角加%d个5角得到%d元\\n”, one , two , five ,x );
				goto out;
			}
		}
	}
}
out:
//注意：goto适合在多重循环的内层跳到最外层的时候使用。
```

## 2、格式

```c
//1、while循环：
while (x>0){
	x/=10;
	n++;
}

//2、do while循环：
do{
	<循环体语句>
}while(<循环条件>);
注意：do while语句最后一定有分号

//for循环：
for(初始动作；循环继续条件1⃣️；循环每一轮要做的事情3⃣️){
	循环体2⃣️；
}
///注意1：
for循环的控制变量可以在for循环内定义
for(int i=1 ; i<=n ; i++ ){
	fact*=i;
}
///注意2:
for循环和while循环是等价的
for(;循环条件;)==while(循环条件)
///注意3:
break:跳出循环；
continue:跳过循环这一轮剩下的语句进入下一轮。
```

# 二、数据类型

## 1、10/3的结果是多少？

10/3=3，并且不会四舍五入，计算结果只保留整数

## 2、如何定义和输出、输入浮点数？

输出：printf(“%f\n”,10.0/3)，因为10.0/3算出来是浮点数，所以要用%f。
定义：

- double a;定义了双精度浮点数a，
- int a;定义了整数a，
- float a;定义单精度浮点数a

输入：scanf(“%lf”,&a);
思考—怎么控制小数输出的位数？
3、那些地方是计算，那些地方不会变？比如printf(“%d”,a+5)；

# 三、计算

## 1、赋值运算符

a=6的结果是a被赋予的值，也就是6
不要作嵌入式赋值：
int a=6;
int b;
int c=1+(b=a);
不容易阅读；

例：double c = (a+b)/2.0;(正确)

## 2、计算优先级

![4BFEE383-5F10-4533-8153-6A3DE129AC52.jpeg](/img/C语言期末复习/4BFEE383-5F10-4533-8153-6A3DE129AC52.jpeg)

a*-b的意思是a乘以-b的相反数。

## 3、结合关系

一般是自左向右
单目运算符和赋值运算符是从右向左

## 4、复合赋值

5个算数运算符都可以和赋值运算符结合—“+=、-=、*=、/=、%=”
例：total+=5;—total=total+5;

注意：复合赋值会把=右边的式子先算完，再计算
例：total += (sum+100)/2;—total = total + (sum+100)/2;
例：total *= sum+12；—total=total*(sum+12);

## 5、递增递减运算符

“++”“—”
a++的值是a加1以前的值，++a是加1以后的值；
无论前缀还是后缀形式，a值本身都已经加1了；

# 四、判断

## 1、基本格式

```c
例：判断时间差
int ih =  hour2 - hour1;
int im = minute2 - minute1;
if (im<0){
im = 60 +im;
ih - -;
}
```

### if 格式：

```c
if (条件成立){
……
}
```

### if else格式

```c
if (格式成立){
……
}else{
……
}
```

<aside>
💡 注意
if和else后面都可以没有{}
但是if（）后面不能直接加;，if加（判断条件）加执行语句才是完整的if语句。

</aside>

## 3、关系运算符

当符合关系运算符的预期，结果为整数1，否则为整数0。
printf(“%d\n”,5==3);
优先级：所有关系运算符的优先级比算数运算的优先级低，但是比赋值运算符高。
例：7>=3+4，会先算3+4，然后再比较7是否大于等于7。
结合关系：从左到右
例：5>3==6>4
a==b==6
6>5>4

## 4、布尔变量（bool）

定义布尔变量需要在代码里先声明。
#include <stdio.h>
#include <stdbool.h>
定义：bool t=6>5;
bool t=true;
输出：printf(“%d\n”,t)//输出结果是0或者是1，布尔变量仍然是整数变量，不是单独的变量类型。

## 5、逻辑运算

![133CC7BC-636F-4FC1-877A-B43C78A638CE.png](/img/C语言期末复习/133CC7BC-636F-4FC1-877A-B43C78A638CE.png)

优先级：！>&&>||

```c
在学习逻辑运算后
if(a>1){
	if(a<10){
		a++;
	}
}
的句子就可以等价为
if(a>1&&a<10){
	a++;
}
注意：&&是从左到右进行的，如果发现左边的表达式输出已经为0了，就不会进行右边的步骤了
	例：a>1&&b+=1;//如果左边不成立，b就不会+1了

```

## 6、嵌套的if-else

### 例：判断a,b,c的最大值

```c
int a,b,c;
scanf(“%d,%d,%d”,&d,&b,&c);
int max=0;

if(a>b){
	if(a>c){
		max=a;
	}else{
		max=b;
	}
}else{
	if(b>c){
		max=b;
	}else{
		max=c;
	}
printf(“the max is %d\\n”,max);
}
//注意：else总是和最近的if匹配

```

## 7、级联的if else

```c
例：分段函数
if(x<0){
	f = -1;
}else if (x==0){
	f=0;
}else{
	f=2*x;
}*
```

## *8、多路分支*

```c
*switch(type){
	case 1:
	printf(“1”)；
	break;
	case 2:
	printf(“2”);
	break;
	case 3:
	printf(“3”);
	break;
	default:
	printf(“4”);
}	
注意；case只是一个路牌，不能阻止程序继续往下执行，需要一个break才可以。*
```

# *五、注释*

*单行注释 //
多行注释/**

# 六、流程图

原代码

```c
//初始化
int price = 0;
int bill = 0;
//读入金额和票面
printf(“请输入金额：”);
scanf(“%d”&price);
printf(“请输入票面：”);
scanf(“%d”,&bill);
//计算找零
if (bill >=price){
printf(“应该找您：%d\n”,bill-price);
}
```

流程图

# 七、数组

## 1、定义数组

<aside>
💡 int number[100];//定义一个数组，这个数组中每一个单元都是一个整数。
格式：<类型>变量名称[元素数量]
注意：元素数量必须是整数，C99之前，元素数量必须是编译时确定的字面量
注意：数组一旦定义不能改变大小。
注意：int a[10]定义了一个数组：
1、一个int的数组；
2、10个单元：a[0],a[1],a[2]……a[9]

</aside>

```c
例：
int x ;
double sum=0;
int cnt=0;
int number[100];
scanf(“%d”,&x);
while(x!=-1){
number[cnt] = x;
sum+=x;
cnt++;
scanf(“%d”,&x);
}
if( cnt > 0 ){
printf(“%f\n”,sum/cnt);
}

//数组的集成初始化
int a[] = {2,4,6,8,10}
int a[2] = {2}//a[0]=2,其他单元都是0
int a[10] = {
	[0] = 2,[2] = 3,6,
}//a[0]=2
```

## 2、二维数组

int a[3][5];

通常理解为a是一个3行5列的矩阵

```c
//二维数组的遍历
for (i=0;i<3,i++){
	for(j=0;j<5,j++){
		a[i][j]=i*j;
	}
}
```

```c
//二维数组的初始化
int a[][5]={
	[0,1,2,3,4],
	[2,3,4,5,6],
};
/*
注意：
1、列数是必须要给出的，行号可以让编译器来数
2、每行一个{},逗号分隔
*/
```

## 3、数组运算

```c
//数组的大小
sizeof(a)/sizeof(a[[0])
//sizeof(a)计算的是整个数组所占据的内容大小，单位是字节
//sizeof(a[0])给出的是数组中单个元素的大小，于是相除可以得到数组的单元个数

//数组的赋值
int b[]=a;
//错误，不能拿一个数组直接赋值给另一个数组
for(i=0,i<length,i++){
	b[i]=a[i];
}
//要把一个数组的元素交给另外一个数组必须采用遍历
```

```c
//例：构造参数表
#include <stdio.h>

int main(){
	const int maxnumber = 25;
	int isPrime[maxnumber];
	int i;
	int x;
	for (i=0;i<maxNumber;i++){
		if(isPrime[X]){
			for(i=2;i*X<maxnumber;i++){
				isPrime[i*x] = 0;
			}
		}
	}
	for(i=2;i<maxNumber;i++){
		if(isPrime[i]){
			printf("%d\t",i);
		}
	}
	printf("\n");
	return 0;
}
```

## 4、搜索

```c
//线型搜索
#include <stdio.h>

int search(int key,int a[],int len){
	int ret=-1;
	for(int i=0;i<len;i++){
		if(key == a[i]){
			ret = i;
			break;
		}
	}
	return ret;
}

int main(){
int a[] = {1,3,2,5,4,5,6,7};
int r = search(12,a,sizeof(a)/sizeofa[0]);
printf("%d\n",r);
return 0;
}
```

# 八、函数

## 1、例：求素数（把求素数的的代码写成函数）

```c
int isPrime (int i){
	int ret=1;
	int k;
	for ( k=2 ; k<i-1 ; k++){
		if(i%k == 0){
		ret = 0;
		break;
		}
	}
	return ret;//返回一个ret的整数
}//定义函数

int main()
{
	int m,n;

}
```

```c
#include <stdio.h>

int main()
{
	int m,n;
	int sum=0;
	int cnt=0;
	int i;
	
	scanf("%d %d",&m,&n);
	if(m==1)m=2;
	for(i=m;i<=n;i++){
		if(isPrime(i)){//调用函数
			sum+=i;
			cnt++;
		}
	}
}
```

## 2、函数的定义

```c
//函数头 void--返回类型 sum--参数名 （int a,int b）参数表
void sum(int begin,int end){
	//函数体
	int i;
	int sum = 0;
	for (i=begin;i<=end;i++){
		sum+=i;		
	}
	printf("%d到%d的和是%d\n",begin,end,sum);
}
```

注意：如果函数定义的时候为void 就不能使用带值的return

## 3、函数的先后

函数头放到前面加“；”就可以通过编译

```c
#include <stdio.h>
void sum(int begin,int end);//
把函数头搬到了前面，同样可以通过编译，且没有warning
这一行叫做函数的"原型声明"
int main{
	sum(1,10);
	sum(25,30);
	return 0;
	}

void sum(int begin,int end){
	int i;
	int sum = 0;
	for (i=begin;i<=end;i++){
		sum+=i;		
	}
	printf("%d到%d的和是%d\n",begin,end,sum);
}
```

## 4、变量的作用域

```c
void swap(int a,int b);

int main{
	int a=5;
	int b=6;
	
	swap(a,b);
	printf("a=%d b=%d\n",a,b);
	
	return 0;
}

void swap(int a,int b){
	int t=a;
	a=b;
	b=t;
}
```

以上代码中，虽然swap函数中的参数a和b与代码中的a、b重复，但是不会影响函数生效。

函数中的参数，只会在函数的{}中生效。

函数的每次运行，就产生了一个独立的变量空间，在这个空间的变量，是函数这次运行所独有的，称作本地变量。

定义在函数内部的变量就是本地变量。

# 九、指针

## 1、引入

scanf(“%d”, &i)中的&

是获取变量的地址，操作量必须是变量

```c
	#include <stdio.h>
	int main(){
		int i=0;
		printf("%p\n",&i);
	} 
```

```c
#include <stdio.h>

int main(){
	int a[10];
	
	printf("%p\n",&a);//
	printf("%p\n",a);//编译可以通过,且输出的是地址
	printf("%p\n",&a[0]);
	printf("%p\n",&a[1]);
}
```

## 2、函数的地址参数

函数只能接收值，可以将外部变量的地址传给函数，函数通过调用地址就可以访问外部的变量了，所以需要一个可以接收地址的变量，就是指针

指针就是保存地址的变量

```c
int i;
int *p=&i;
int *p,q;//*可以靠近int,也可以靠近p，这个定义是定义了一个p指针，一个整数q
int *p,q;
int *p,*q;//这样才是定义了两个指针
```

```c
void f(int *p);
在调用的时候得到某个变量的地址；
int i=0;f(&i);
在函数里面可以通过这个指针访问外面这个i；
```

```c
#include <stdio.h>

int main(){
	int i = 6;
	printf("&i=%p\n",&i);
	f(&i);
	
	return 0;
}

void f(int *p){
	printf("p=%p\n",p);
}
```

## 3、访问那个地址上的变量*

*是一个单目运算符，用来访问指针的值所表示的地址上的变量

可以是左值，可以是右值

int k=*p;

*p=k+1;

## 4、传入函数的数组成了什么？

```c
int isPrime(int x,int knownPrimes[],int numberofKnownPrimes){
	int ret=1;
	int i;
	for (i=0;i<numberofKnownPrimes;i++){
		if(x%knownPrimes[i]==0){
			ret = 0;
			break;
		}
	}
	return 0;
}
```

函数参数表的数组实际上是指针。

sizeof(a)==sizeof(int*)

但是可以用数组的运算符[]进行运算

数组变量是特殊的指针

数组变量是const的指针，所以不能被赋值

# 10、字符串

## 1、引入

Char是一种整数，也是一种特殊的类型：字符。因为：

- 用单引号表示的字符字面量：‘a’,’1’
- ‘’也是一个字符
- Printf和Scanf里用%c来输入输出字符

## 1、怎样 定义字符串（第8周—3字符串）

Char *str=“Hello”
Char word[]=“Hello”
Char

## 2、输入输出

```c
#incude <stdio.h>

int main(){
	char c;
	char d;
	c=1;//是数字1
	d='1';//是字符'1'
	if(c==d){
		printf("相等\n");
	}else{
		printf("不相等\n");
	}
	
	//输入
	scanf("%c",&c);
	//输出
	printf("c=%c\n",c);
	//混合输入
	scanf("%d%c",&i &c);//%d %c之间没有空格，scanf会把第一个数字读完了之后把"空格"交给下一个变量
	return 0;
}
```

## 3、 字符计算

```c
char c ='A';
c++;
printf("%c\n",c);//输出会得到B
int i ='Z' - 'A';
printf("%d\n",i);//两个字符相减，得到她们在ASCII码表中的距离

//大小写转换
/*
字母在ACSII表中是顺序排列的
大写字母和小写字母是分开排列的
'a'-'A'可以得到两段之间的距离
*/
a+'a'-'A'
a+'A'-'a'//小写字母变大写字母
```

## 4、逃逸字符

| 字符 | 含义 |
| --- | --- |
| \b | 回退一格 |
| \t | 到下一个表格位 |
| \n | 换行 |
| \r | 回车 |
| \“ | 双引号 |
| \‘ | 单引号 |
| \\ | 反斜杠本身 |

## 5、字符数组

char word[]={’H’,’E’,’L’,’L’,’O’,’\0’};

| word[0] | H |
| --- | --- |
| word[1] | E |
| word[2] | L |
| word[3] | L |
| word[4] | O |
| word[5] | \0 |

0标志字符串的结束，但不是字符串的一部分，

计算字符串长度的时候不包含这个0

string.h里有很多处理字符串的函数

```c
//定义字符串变量
char *str = "HELLO";//s是一个指针，初始化为指向一个字符串常量，这个常量是只读不写的
char word[]="HELLO";//用数组来定义，可以写入
char line[10]="HELLO"；
```

## 6、字符串输入输出

```c
char* t ="title";
char*s;
s=t
//以上代码没有产生新的字符串，只是让指针指向了t所指的字符串，对s的任何操作都是对t做的

char string[8];
//输入
scanf("%s",string);//不会读入空格
scanf("%7s,string");//只读七个字符，多余七个不要了，如果不加7，输入多余7个字符，程序会崩溃，或者读不到任何字符
//输出
printf("%s",string);

//scanf读入一个单词（到空格、tab或回车为止）
```

## 7、字符串计算

```c
strlen//返回字符串的难度
strcmp//比较字符串的大小，0是相等

strcat//把s2拷贝到s1后面，接成一个长字符串，s1必须有足够的空间

```